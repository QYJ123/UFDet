python test_img/test_hrsc_save_img.py

python test_img/test_hrsc_show_img.py


python test_img/test_dota_merge_save_img.py
sh test_img/test_dota_merge_save_img.sh

python test_img/test_dota_merge_show_img.py

python test_img/test_dota_ss_save_img.py
sh test_img/test_dota_ss_save_img.sh



python test_img/test_hrsc_save_img.py

#need change config epoch dirs



draw box,text
1.change mmdet/models/detectors/obb/obb_base.py
def show_result(self,
                    img,
                    result,
                    score_thr=0.3,
                    colors = ['green'],#this change
                    #colors=['brown','red','peru','tan','orange',
                            #'yellow','lawngreen','green','cyan','deepskyblue',
                            #'blue','darkviolet','purple','fuchsia','pink'],
                    thickness=8.,#this change
                    font_size=10,
                    win_name='',
                    show=False,
                    wait_time=0,
                    out_file=None):

2.BboxToolkit/BboxToolkit/visualization/draw.py

if texts is  None:#no draw label del not
            ax.text(x,
                    y,
                    texts[i],
                    bbox={
                        'alpha': 0.5,
                        'pad': 0.7,
                        'facecolor': color,
                        'edgecolor': 'none'
                    },
                    color='white',
                    rotation=angle,
                    rotation_mode='anchor',
                    fontsize=font_size,
                    transform_rotates_text=True,
                    verticalalignment='bottom',
                    horizontalalignment='left')


3.drawing DOTA dataset also needs to change colors in first step!!!



***************************************************************************************
***********************************draw HRSC******************************************
***************************************************************************************
#1.dh_faster
save_file_path = r'./test_img/save_imgs/1-dh_faster/hrsc_test/' #保存测试图片的路径
config_file = r'./configs/obb/double_heads_obb/dh_faster_rcnn_obb_r50_fpn_3x_hrsc.py' #网络模型
checkpoint_file = r'./work_dirs/dh_faster_rcnn_obb_r50_fpn_3x_hrsc/epoch_36.pth'  #训练好的模型参数

#2.faster_rcnn

save_file_path = r'./test_img/save_imgs/2-faster_rcnn/hrsc_test/' #保存测试图片的路径
config_file = r'./configs/obb/faster_rcnn_obb/faster_rcnn_obb_r50_fpn_3x_hrsc.py' #网络模型
checkpoint_file = r'./work_dirs/faster_rcnn_obb_r50_fpn_3x_hrsc/epoch_36.pth'  #训练好的模型参数

#3.fcos-obb(can't run!)
#4.gliding_vertex

save_file_path = r'./test_img/save_imgs/4-gliding_vertex/hrsc_test/' #保存测试图片的路径
config_file = r'./configs/obb/gliding_vertex/gliding_vertex_r50_fpn_3x_hrsc.py' #网络模型
checkpoint_file = r'./work_dirs/gliding_vertex_r50_fpn_3x_hrsc/epoch_36.pth'  #训练好的模型参数

#5.iou_loss

save_file_path = r'./test_img/save_imgs/5-retinanet_iouloss/hrsc_test/' #保存测试图片的路径
config_file = r'./configs/obb/poly_iou_loss/retinanet_obb_r50_fpn_iouloss_3x_hrsc.py' #网络模型
checkpoint_file = r'./work_dirs/retinanet_obb_r50_fpn_iouloss_3x_hrsc/epoch_36.pth'  #训练好的模型参数

#6.giou_loss
save_file_path = r'./test_img/save_imgs/6-retinanet_giouloss/hrsc_test/' #保存测试图片的路径
config_file = r'./configs/obb/poly_iou_loss/retinanet_obb_r50_fpn_giouloss_3x_hrsc.py' #网络模型
checkpoint_file = r'./work_dirs/retinanet_obb_r50_fpn_giouloss_3x_hrsc/epoch_36.pth'  #训练好的模型参数

#7.retinanet_obb

save_file_path = r'./test_img/save_imgs/7-retinanet_obb/hrsc_test/' #保存测试图片的路径
config_file = r'./configs/obb/retinanet_obb/retinanet_obb_r50_fpn_3x_hrsc.py' #网络模型
checkpoint_file = r'./work_dirs/retinanet_obb_r50_fpn_3x_hrsc/epoch_36.pth'  #训练好的模型参数

#8.roi_trans

save_file_path = r'./test_img/save_imgs/8-roi_trans/hrsc_test/' #保存测试图片的路径
config_file = r'./configs/obb/roi_transformer/faster_rcnn_roitrans_r50_fpn_3x_hrsc.py' #网络模型
checkpoint_file = r'./work_dirs/faster_rcnn_roitrans_r50_fpn_3x_hrsc/epoch_36.pth'  #训练好的模型参数

#9.s2anet

save_file_path = r'./test_img/save_imgs/9-s2anet/hrsc_test/' #保存测试图片的路径
config_file = r'./configs/obb/s2anet/s2anet_r50_fpn_3x_hrsc.py' #网络模型
checkpoint_file = r'./work_dirs/s2anet_r50_fpn_3x_hrsc/epoch_36.pth'  #训练好的模型参数

#10.orcnn

save_file_path = r'./test_img/save_imgs/10-orcnn/hrsc_test/' #保存测试图片的路径
config_file = r'./configs/obb/oriented_rcnn/faster_rcnn_orpn_r50_fpn_3x_hrsc.py' #网络模型
checkpoint_file = r'./work_dirs/faster_rcnn_orpn_r50_fpn_3x_hrsc/epoch_36.pth'  #训练好的模型参数


***************************************************************************************
***********************************draw DOTA******************************************
***************************************************************************************
#1.dh_faster
save_file_path = r'./test_img/save_imgs/1-dh_faster/dota_test/' #保存测试图片的路径
config_file = r'./configs/obb/double_heads_obb/dh_faster_rcnn_obb_r50_fpn_1x_dota10.py' #网络模型
checkpoint_file = r'./work_dirs/dh_faster_rcnn_obb_r50_fpn_1x_dota10/epoch_12.pth'  #训练好的模型参数

#2.faster_rcnn

save_file_path = r'./test_img/save_imgs/2-faster_rcnn/dota_test/' #保存测试图片的路径
config_file = r'./configs/obb/faster_rcnn_obb/faster_rcnn_obb_r50_fpn_1x_dota10.py' #网络模型
checkpoint_file = r'./work_dirs/faster_rcnn_obb_r50_fpn_1x_dota10/epoch_12.pth'  #训练好的模型参数

#3.fcos-obb(can't run!)
#4.gliding_vertex

save_file_path = r'./test_img/save_imgs/4-gliding_vertex/dota_test/' #保存测试图片的路径
config_file = r'./configs/obb/gliding_vertex/gliding_vertex_r50_fpn_1x_dota10.py' #网络模型
checkpoint_file = r'./work_dirs/gliding_vertex_r50_fpn_1x_dota10/epoch_12.pth'  #训练好的模型参数

#5.iou_loss

save_file_path = r'./test_img/save_imgs/5-retinanet_iouloss/dota_test/' #保存测试图片的路径
config_file = r'./configs/obb/poly_iou_loss/retinanet_obb_r50_fpn_iouloss_1x_dota.py' #网络模型
checkpoint_file = r'./work_dirs/retinanet_obb_r50_fpn_iouloss_1x_dota/epoch_12.pth'  #训练好的模型参数

#6.giou_loss
save_file_path = r'./test_img/save_imgs/6-retinanet_giouloss/dota_test/' #保存测试图片的路径
config_file = r'./configs/obb/poly_iou_loss/retinanet_obb_r50_fpn_giouloss_1x_dota.py' #网络模型
checkpoint_file = r'./work_dirs/retinanet_obb_r50_fpn_giouloss_1x_dota/epoch_12.pth'  #训练好的模型参数

#7.retinanet_obb

save_file_path = r'./test_img/save_imgs/7-retinanet_obb/dota_test/' #保存测试图片的路径
config_file = r'./configs/obb/retinanet_obb/retinanet_obb_r50_fpn_1x_dota10.py' #网络模型
checkpoint_file = r'./work_dirs/retinanet_obb_r50_fpn_1x_dota10/epoch_12.pth'  #训练好的模型参数

#8.roi_trans

save_file_path = r'./test_img/save_imgs/8-roi_trans/dota_test/' #保存测试图片的路径
config_file = r'./configs/obb/roi_transformer/faster_rcnn_roitrans_r50_fpn_1x_dota10.py' #网络模型
checkpoint_file = r'./work_dirs/faster_rcnn_roitrans_r50_fpn_1x_dota10/epoch_12.pth'  #训练好的模型参数


9.s2anet
save_file_path = r'./test_img/save_imgs/9-s2anet/dota_test/' #保存测试图片的路径
config_file = r'./configs/obb/s2anet/s2anet_r50_fpn_1x_dota10.py' #网络模型
checkpoint_file = r'./work_dirs/s2anet_r50_fpn_1x_dota10/epoch_12.pth'  #训练好的模型参数


#10.orcnn

save_file_path = r'./test_img/save_imgs/10-orcnn/dota_test/' #保存测试图片的路径
config_file = r'./configs/obb/oriented_rcnn/faster_rcnn_orpn_r50_fpn_1x_dota10.py' #网络模型
checkpoint_file = r'./work_dirs/faster_rcnn_orpn_r50_fpn_1x_dota10/epoch_12.pth'  #训练好的模型参数






